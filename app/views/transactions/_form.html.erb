<% user_friends = @defaultgroup.users %>
<div id="mg-transaction-create">
  <fieldset>
    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-group icon-light icon-child"></i>
        </span>
      </span>
      <!-- Green to Red -->
      <div id="mgexpensegroup" class="mg-expense-toggle toggle btn btn-lg btn-success" target-element="#mg-expense-group">
        <input type="checkbox" checked>
        <div class="toggle-group">
          <label class="toggle-on btn btn-lg btn-success"><%= @defaultgroup.name %></label>
        </div>
      </div>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter" data-toggle="modal" data-target="#mg-expense-group">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>

    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-font icon-light icon-child"></i>
        </span>
      </span>
      <%= f.text_field :remarks, :class => 'form-control text-center img-circle', :rows => 2 , :placeholder => "Enter Expense Summary" %>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>

    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-user icon-light icon-child"></i>
        </span>
      </span>
      <!-- Green to Red -->
      <div id ="mgexpensepayer" class="mg-expense-toggle off toggle btn btn-lg btn-success" data-toggle="toggle" target-element="#mg-expense-payer">
        <input type="checkbox" checked>
        <div class="toggle-group">
          <label class="toggle-on btn btn-lg btn-success"><i class="icon-spinner icon-spin icon-large"></i></label>
          <label class="toggle-off btn btn-lg btn-danger"><strong>Choose Expense Spender</strong></label>
          <span class="toggle-handle btn btn-lg btn-primary"></span>     
        </div>
      </div>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>

    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-calendar icon-light icon-child"></i>
        </span>
      </span>
      <!-- Green to Red -->
      <div id="mgexpensedate" class="mg-expense-toggle off toggle btn btn-lg btn-success" target-element="#mg-expense-date"  data-toggle="toggle">
        <input type="checkbox" checked>
        <div class="toggle-group">
          <label class="toggle-on btn btn-lg btn-success"><i class="icon-spinner icon-spin icon-large"></i></label>
          <label class="toggle-off btn btn-lg btn-danger"><strong>Choose Expense Date</strong></label>
          <span class="toggle-handle btn btn-lg btn-primary"></span>     
        </div>
      </div>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>

    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-sitemap icon-light icon-child"></i>
        </span>
      </span>
      <!-- Green to Red -->
      <div id="mgexpensebeneficiary" class="mg-expense-toggle toggle off btn btn-lg btn-success" data-toggle="toggle"  target-element="#mg-expense-beneficiary" >
        <input type="checkbox" checked>
        <div class="toggle-group">
          <label class="toggle-on btn btn-lg btn-success"><i class="icon-spinner icon-spin icon-large"></i></label>
          <label class="toggle-off btn btn-lg btn-danger"><strong>Choose Expense Benefactors</strong></label>
          <span class="toggle-handle btn btn-lg btn-primary"></span>     
        </div>
      </div>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>

    <div class="input-group">
      <span class="input-group-addon remove-top-gutter remove-bottom-gutter">
        <span class="icon-stack">
          <i class="icon-sign-blank icon-stack-base"></i>
          <i class="icon-tags icon-light icon-child"></i>
        </span>
      </span>
      <!-- Green to Red -->
      <div class="toggle off btn btn-lg btn-success" data-toggle="toggle">
        <input type="checkbox" checked>
        <div class="toggle-group">
          <label class="toggle-on btn btn-lg btn-success"><i class="icon-spinner icon-spin icon-large"></i></label>
          <label class="toggle-off btn btn-lg btn-default"><strong>Choose Categories</strong></label>
          <span class="toggle-handle btn btn-lg btn-primary"></span>     
        </div>
      </div>
      <a href="javascript:void(0)" class="input-group-addon expense-param-edit remove-top-gutter remove-bottom-gutter">
        <i class="icon-pencil icon-light icon-child"></i>
      </a>
    </div>
    
    <br/>
    <div class="text-center">
      <button class="btn btn-default">Cancel</button> 
      <%= f.submit "Save", id: "mg-transactions-create-btn", class: "btn btn-primary", disable_with: "Saving..." %>
    </div>
    <%= f.hidden_field :enteredby, :value => (f.object.enteredby || current_user.id.to_s) %>
    <%= f.hidden_field :actors, :value => f.object.actors %>
  </fieldset>
</div>

<%= render :partial => "transactions/modals/expense_date", :locals => {:f => f} %>
<%= render :partial => "transactions/modals/expense_group", :locals => {:f => f} %>
<%= render :partial => "transactions/modals/expense_spender", :locals => {:friends => user_friends, :f => f}  %>
<%= render :partial => "transactions/modals/expense_benefactors", :locals => {:friends => user_friends, :f => f} %>

<script type="text/javascript">
  jQuery('.mg-expense-toggle').on('switch-on', this, function(){
    jQuery(jQuery(this).attr('target-element')).modal('show');
  })
</script>