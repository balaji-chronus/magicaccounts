<h3>New Transaction </h3><br/>
<%= form_for @transaction, :validate => true, :url => transactions_path, :html => { :class => :form } do |f| -%>
  <%= render :partial => "form", :locals => {:f => f} %>
<% end -%>

<script type="text/javascript">
jQuery(document).ready(function(){
  jQuery("#new_transaction").submit(function() {
        if(Transaction.calculateAmount() <=0)
        {
            jQuery('.flash-container').replaceWith('<%= escape_javascript(render(:partial => 'common/flashdisplay', :locals => {:flash => {:message => " An investor should have atleast one beneficiary with amount > 0 "}} ))%>');
            return false;
        }
        jQuery("#transactions_save").attr('disabled','disabled').val("Saving..");
        jQuery.post(this.action, jQuery(this).serialize(), null, "script");
        return false;
    });
});
</script>